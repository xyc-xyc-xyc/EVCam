---
description: Windows PowerShell 中文编码问题 - 避免在命令行中使用中文
alwaysApply: true
---

# Windows Shell 编码规则

在 Windows 系统上执行 Shell 命令时，**必须避免在命令参数中使用中文字符**。

## 问题原因

Cursor IDE 的 Shell 工具在传递命令参数和读取输出时存在编码问题。即使设置了 UTF-8 编码（chcp 65001、Console.OutputEncoding 等），中文字符仍会变成乱码。

这是 **Cursor 工具层面的限制**，不是 PowerShell 或 Windows 的问题，无法通过编码设置解决。

## 规则

### Git 提交消息
```bash
# ❌ BAD - 中文会变成乱码
git commit -m "修复登录问题"

# ✅ GOOD - 使用英文
git commit -m "fix: resolve login issue"
```

### GitHub CLI 评论
```bash
# ❌ BAD
gh pr comment 5 --body "功能已合并，感谢贡献！"

# ✅ GOOD
gh pr comment 5 --body "Features merged. Thank you for the contribution!"
```

### PR/Issue 创建
```bash
# ❌ BAD
gh pr create --title "添加新功能" --body "实现了用户登录"

# ✅ GOOD
gh pr create --title "Add new feature" --body "Implement user login"
```

## 总结

- 所有通过 Shell 工具执行的命令，参数中**只使用英文**
- 需要中文内容时，建议用户通过 GitHub/GitLab 网页界面手动编辑
- 代码文件中的中文注释不受影响（文件编码由编辑器控制）
